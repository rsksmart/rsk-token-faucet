(this["webpackJsonpreact-app-rif-template"]=this["webpackJsonpreact-app-rif-template"]||[]).push([[0],{519:function(e,t){},528:function(e,t){},564:function(e,t){},566:function(e,t){},587:function(e,t){},589:function(e,t){},601:function(e,t){},622:function(e,t){},624:function(e,t){},626:function(e,t){},731:function(e,t){},758:function(e,t){},760:function(e,t){},768:function(e,t){},789:function(e,t){},791:function(e,t){},796:function(e,t){},798:function(e,t){},805:function(e,t){},807:function(e,t){},818:function(e,t){},820:function(e,t){},833:function(e,t){},846:function(e,t){},849:function(e,t){},864:function(e,t,n){"use strict";n.r(t);var c=n(6),r=n(2),s=n.n(r),a=n(109),o=n.n(a),i=n(0),d=n.n(i),l=n(15),u=n(31),j=n(36),b=n(195),f=n(278),p=n(279),O=n.n(p),h=n(293),x=n(913),m=n(911),g=n(910),v=n(909),k=n(449),w=n.n(k),S=n(283),y=n(452),C=n.n(y),F=n(473),T=n(460),A=n.n(T),L=n(474),P=n(467),z=n(468),B=n(469),I={31:"https://public-node.testnet.rsk.co"},E=Object.keys(I).map(Number),M=new C.a({rpcUrls:I,supportedChains:E,cacheProvider:!1,providerOptions:{walletconnect:{package:F.a,options:{rpc:I,bridge:"https://walletconnect-bridge.rifos.org/"}},portis:{package:A.a,options:{id:"a1c8672b-7b1c-476b-b3d0-41c27d575920",network:{nodeUrl:"https://public-node.testnet.rsk.co",chainId:31}}},torus:{package:L.a},"custom-ledger":z.ledgerProviderOptions,"custom-dcent":B.dcentProviderOptions,"custom-trezor":Object(S.a)(Object(S.a)({},P.trezorProviderOptions),{},{options:{manifestEmail:"info@iovlabs.org",manifestAppUrl:"https://basic-sample.rlogin.identity.rifos.org/"}})}}),R=n(48),U=n(915),Y=n(912),D=n(905),G=function(e){var t=e.address,n=e.small,r=e.center,s=e.color,a=e.prefix;return Object(c.jsxs)(x.a,{align:r?"center":"left",color:s,children:[a,"Address: ",n?"".concat(t.slice(0,8),"...").concat(t.slice(-6)):t," ",Object(c.jsx)(Y.a,{href:"https://explorer.testnet.rsk.co/address/".concat(t),target:"_blank",children:Object(c.jsx)(D.a,{})})]})},J=["function balanceOf(address) view returns (uint)"],K=function(e,t){var n={div:e.div(R.a.from("10").pow(t)),mod:e.mod(R.a.from("10").pow(t))};return n.mod.isZero()?n.div.toString():"".concat(n.div.toString(),".").concat(n.mod.toString().slice(0,4),"...")},N=function(e){var t=e.tokenMeta,n=e.tokenAddress,s=e.faucet,a=e.dispenseTo,o=Object(r.useState)(""),i=Object(u.a)(o,2),j=(i[0],i[1]),f=Object(r.useState)(null),p=Object(u.a)(f,2),O=p[0],h=p[1],v=Object(r.useState)(null),k=Object(u.a)(v,2),w=k[0],S=k[1],y=Object(r.useState)(!0),C=Object(u.a)(y,2),F=C[0],T=C[1],A=s?new b.b(n.toLowerCase(),J,s.signer.provider):new b.b(n.toLowerCase(),J);return Object(r.useEffect)((function(){s&&Object(l.a)(d.a.mark((function e(){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.signer.getAddress();case 2:return n=e.sent,e.next=5,A.balanceOf(n);case 5:return c=e.sent,e.next=8,A.balanceOf(s.address);case 8:r=e.sent,j(n),h(c),S(r),r.gte(R.a.from("10").mul(R.a.from("10").pow(t.decimals)))&&T(!1);case 13:case"end":return e.stop()}}),e)})))()}),[s]),Object(c.jsx)(U.a,{style:{marginBottom:"20px",marginTop:"20px",padding:"20px"},children:Object(c.jsxs)(g.a,{container:!0,children:[Object(c.jsxs)(g.a,{item:!0,xs:3,children:[Object(c.jsxs)(x.a,{children:[Object(c.jsx)("img",{src:"https://raw.githubusercontent.com/rsksmart/rsk-testnet-contract-metadata/master/images/"+t.logo,width:"30px"}),Object(c.jsxs)("span",{style:{marginBottom:"10px"},children:[t.symbol," (",t.name,")"]})]}),Object(c.jsx)(G,{address:n,small:!0,center:!1})]}),Object(c.jsxs)(g.a,{item:!0,xs:6,children:[Object(c.jsxs)(x.a,{align:"center",children:["Your Balance: ",O&&K(O,t.decimals)]}),Object(c.jsxs)(x.a,{align:"center",children:["Faucet Balance: ",w&&K(w,t.decimals)]})]}),Object(c.jsx)(g.a,{item:!0,xs:3,children:Object(c.jsx)(m.a,{size:"small",disabled:F||!s,onClick:function(){return s.dispense(n.toLowerCase(),a)},children:"Get Funds"})})]})})},V=Object.entries(O.a).reduce((function(e,t){return t[1].erc20?[].concat(Object(j.a)(e),[t[0]]):e}),[]),W="0xea184604347fd5cede89217e1ab1eed322c8c98b",Z=new b.b(W,["function dispense(address token, address to)"]),$=w.a.forRskTestnet({});var _=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(),o=Object(u.a)(a,2),i=o[0],j=o[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),k=p[0],w=p[1],S=Object(r.useState)(!0),y=Object(u.a)(S,2),C=y[0],F=y[1],T=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.connect();case 2:return t=e.sent,n=t.provider,c=new f.a.providers.Web3Provider(n).getSigner(),e.next=7,c.getAddress();case 7:r=e.sent,a=Z.connect(c),s(r),j(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(C),Object(c.jsx)(h.b,{children:Object(c.jsxs)("div",{style:{padding:"20px"},children:[Object(c.jsx)(x.a,{variant:"h1",align:"center",children:"RSK Token Faucet"}),Object(c.jsx)(x.a,{variant:"h4",color:"white",align:"center",children:"Get testing funds of your favorite tokens"}),Object(c.jsx)(G,{small:!1,address:W,center:!0,color:"white",prefix:"Faucet "}),Object(c.jsx)(x.a,{color:"white",align:"center",children:"You can donate tokes to the faucet"}),Object(c.jsx)("div",{style:{height:"90px"},children:n?Object(c.jsxs)(x.a,{variant:"h4",color:"white",align:"center",children:["Your address: ",n]}):Object(c.jsx)(m.a,{onClick:T,size:"small",children:"Log In"})}),Object(c.jsxs)(g.a,{container:!0,children:[Object(c.jsx)(g.a,{item:!0,xs:9,children:Object(c.jsx)(h.a,{id:"addressField",label:"Dispense to",onReceiverAddressChange:w,resolverFn:$.addr.bind($),regexValidation:/\.rsk$/})}),Object(c.jsx)(g.a,{item:!0,xs:3,style:{marginTop:"20px"},children:Object(c.jsxs)(x.a,{color:"white",fontSize:"20px",align:"center",children:[Object(c.jsx)(v.a,{color:"primary",size:"medium",checked:C,onChange:function(e){return F(e.target.checked)}}),"Send to your connected address"]})})]}),V.map((function(e){return Object(c.jsx)(N,{tokenMeta:O.a[e],tokenAddress:e,faucet:i,dispenseTo:C?n:k.toLowerCase()},e)}))]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,916)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(_,{})}),document.getElementById("root")),q()}},[[864,1,2]]]);
//# sourceMappingURL=main.be58c172.chunk.js.map