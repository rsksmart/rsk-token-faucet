{"version":3,"sources":["components/Address.tsx","components/row.tsx","rLogin.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Address","address","small","Typography","slice","Link","href","target","Launch","balanceToString","balance","decimals","parts","div","BigNumber","from","pow","mod","isZero","toString","Row","token","add","signer","faucet","contract","Contract","toLowerCase","useState","setBalance","setAddress","faucetBalance","setFaucetBalance","disable","setDisable","useEffect","a","getAddress","balanceOf","b","faucetB","console","log","symbol","gte","mul","Card","style","margin","padding","Grid","container","item","xs","src","logo","width","marginBottom","name","align","Button","size","disabled","onClick","dispense","rpcUrls","31","supportedChains","Object","keys","map","Number","rLogin","RLogin","cacheProvider","providerOptions","walletconnect","package","WalletConnectProvider","options","rpc","bridge","portis","Portis","id","network","nodeUrl","chainId","torus","Torus","ledgerProviderOptions","dcentProviderOptions","trezorProviderOptions","manifestEmail","manifestAppUrl","addresses","contractMap","App","mm","setMM","setFaucet","handleLogin","connect","provider","web3Provider","ethers","providers","Web3Provider","getSigner","variant","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb3031a0.chunk.js","sourcesContent":["import React from 'react'\nimport { Typography, Link } from '@mui/material'\nimport { Launch } from '@mui/icons-material'\n\nconst Address: React.FC<{ address: string, small: boolean }> = ({ address, small }) => <Typography>Address: {small ? `${address.slice(0, 8)}...${address.slice(-6)}` : address} <Link href={`https://explorer.testnet.rsk.co/address/${address}`} target='_blank'><Launch /></Link></Typography>\n\nexport default Address\n","import React, { useEffect, useState } from 'react'\nimport { Contract, Signer, BigNumber, BigNumberish } from 'ethers'\nimport { Button, Grid, Typography, Card } from '@mui/material'\nimport Address from './Address'\n\nconst Row: React.FC<{ token: any, add: string, signer: Signer, faucet: Contract }> = ({ token, add, signer, faucet }) => {\n  const baseDir =\n  'https://raw.githubusercontent.com/rsksmart/rsk-testnet-contract-metadata/master/images/'\n  const contractAbi = [\n    // Get the account balance\n    'function balanceOf(address) view returns (uint)'\n  ]\n  const contract = new Contract(add.toLowerCase(), contractAbi, signer)\n  const [balance, setBalance] = useState<any>(null)\n  const [address, setAddress] = useState('')\n  const [faucetBalance, setFaucetBalance] = useState<any>(null)\n  const [disable, setDisable] = useState(true)\n  useEffect(() => {\n    (async () => {\n      const a = await signer.getAddress()\n      const b = await contract.balanceOf(a)\n\n      const faucetB = await contract.balanceOf(faucet.address)\n\n      setBalance(b)\n      setAddress(a)\n      setFaucetBalance(faucetB)\n\n      console.log(token.symbol, b)\n      if (faucetB.gte(BigNumber.from('10').mul(BigNumber.from('10').pow(token.decimals)))) {\n        setDisable(false)\n      }\n    })()\n  }, [])\n\n  return (\n    <Card style={{ margin: '20px', padding: '20px' }}>\n      <Grid container>\n        <Grid item xs={3}>\n          <Typography><img src = {baseDir + token.logo} width=\"30px\" /><span style={{ marginBottom: '10px' }}>{token.symbol} ({token.name})</span></Typography>\n          <Address address={add} small={true} />\n        </Grid>\n        <Grid item xs={6}>\n          <Typography align='center'>Your Balance: {balance && balanceToString(balance, token.decimals)}</Typography>\n          <Typography align='center'>Faucet Balance: {faucetBalance && balanceToString(faucetBalance, token.decimals)}</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Button size='small' disabled={disable} onClick={() => faucet.dispense(add.toLowerCase(), address)}>Get Funds</Button>\n        </Grid>\n      </Grid>\n    </Card>\n  )\n}\n\nexport const balanceToString = (balance: BigNumber, decimals: BigNumberish) => {\n  const parts = {\n    div: balance.div(BigNumber.from('10').pow(decimals)),\n    mod: balance.mod(BigNumber.from('10').pow(decimals))\n  }\n  if (parts.mod.isZero()) return parts.div.toString()\n  return `${parts.div.toString()}.${parts.mod.toString().slice(0, 4)}...`\n}\n\nexport default Row\n","import RLogin from '@rsksmart/rlogin'\nimport WalletConnectProvider from '@walletconnect/web3-provider'\nimport Portis from '@portis/web3'\nimport Torus from '@toruslabs/torus-embed'\nimport { trezorProviderOptions } from '@rsksmart/rlogin-trezor-provider'\nimport { ledgerProviderOptions } from '@rsksmart/rlogin-ledger-provider'\nimport { dcentProviderOptions } from '@rsksmart/rlogin-dcent-provider'\n\nconst rpcUrls = {\n  31: 'https://public-node.testnet.rsk.co'\n}\n\nconst supportedChains = Object.keys(rpcUrls).map(Number)\n\nconst rLogin = new RLogin({\n  rpcUrls,\n  supportedChains,\n  cacheProvider: false,\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        rpc: rpcUrls,\n        bridge: 'https://walletconnect-bridge.rifos.org/'\n      }\n    },\n    portis: {\n      package: Portis,\n      options: {\n        id: 'a1c8672b-7b1c-476b-b3d0-41c27d575920',\n        network: {\n          nodeUrl: 'https://public-node.testnet.rsk.co',\n          chainId: 31\n        }\n      }\n    },\n    torus: {\n      package: Torus\n    },\n    'custom-ledger': ledgerProviderOptions,\n    'custom-dcent': dcentProviderOptions,\n    'custom-trezor': {\n      ...trezorProviderOptions,\n      options: {\n        manifestEmail: 'info@iovlabs.org',\n        manifestAppUrl: 'https://basic-sample.rlogin.identity.rifos.org/'\n      }\n    }\n  }\n})\n\nexport default rLogin\n","import React, { useState } from 'react'\nimport contractMap from '@rsksmart/rsk-testnet-contract-metadata'\nimport Row from './components/row'\nimport rLogin from './rLogin'\nimport { ethers, Contract } from 'ethers'\nimport { RifThemeProvider } from '@rsksmart/rif-material-ui'\nimport { Button, Typography } from '@mui/material'\n\nconst addresses = Object.keys(contractMap)\n\nconst faucetAddress = '0x11f2753e9a597473da2f51492f4fefac1c572640'\n\nfunction App () {\n  const [mm, setMM] = useState<any>(null)\n  const [faucet, setFaucet] = useState<null | Contract>(null)\n  const handleLogin = async () => {\n    const { provider } = await rLogin.connect()\n    const web3Provider = new ethers.providers.Web3Provider(provider).getSigner()\n    const faucet = new Contract(faucetAddress, [\n      'function dispense(address token, address to)'\n    ], web3Provider)\n    setMM(web3Provider)\n    setFaucet(faucet)\n  }\n  return (\n    <RifThemeProvider>\n      <div style={{ padding: '20px' }}>\n        <Typography variant=\"h1\" align='center'>RSK Token Faucet</Typography>\n        {(mm && faucet) && addresses.map((address: any) => <Row key={address} token = {contractMap[address]} add = {address} signer = {mm} faucet={faucet} />)}\n        <Button onClick = {handleLogin} >Log In</Button>\n        {mm && mm.toString()}\n      </div>\n    </RifThemeProvider>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}